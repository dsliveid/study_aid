# 语音识别服务选型报告

**报告日期**: 2026-01-25
**报告人**: AI/算法工程师
**项目**: 桌面学习助手

---

## 一、选型概述

本项目需要集成实时语音识别功能，用于将课堂语音实时转换为文字并生成笔记。经过对**科大讯飞**、**Azure Speech**、**腾讯云**三家的调研，现从多个维度进行对比分析。

---

## 二、服务对比

### 2.1 功能对比

| 功能维度 | 科大讯飞 | Azure Speech | 腾讯云 |
|---------|---------|--------------|--------|
| **实时流式识别** | ✅ 支持 | ✅ 支持 | ✅ 支持 |
| **中文识别准确率** | ⭐⭐⭐⭐⭐ 极高 | ⭐⭐⭐⭐ 高 | ⭐⭐⭐⭐ 高 |
| **方言支持** | ✅ 支持（需额外付费） | ❌ 不支持 | ⚠️ 有限支持 |
| **WebSocket接口** | ✅ 支持 | ✅ 支持 | ✅ 支持 |
| **音频格式** | PCM/WAV/OPUS/MP3等 | PCM/WAV/OGG等 | PCM/WAV/OPUS/SPEEX/MP3/M4A/AAC |
| **断点续传** | ✅ 支持 | ✅ 支持 | ✅ 支持 |
| **说话人分离** | ✅ 支持 | ✅ 支持 | ✅ 支持 |
| **标点符号预测** | ✅ 支持 | ✅ 支持 | ✅ 支持 |
| **实时翻译** | ❌ 不支持 | ✅ 支持 | ✅ 支持 |

### 2.2 价格对比

| 服务 | 免费额度 | 实时识别价格 | 套餐包 |
|------|----------|-------------|--------|
| **科大讯飞** | 5小时/日(个人) | - | 套餐一: ￥99/40小时<br>套餐二: ￥1,780/1,000小时<br>套餐三: ￥6,900/5,000小时 |
| **Azure Speech** | 5小时/月 | $1/小时 (约￥7.2/小时) | 承诺套餐: $1,600/2,000小时<br>超量: $0.8/小时 |
| **腾讯云** | 5小时/月 | 阶梯计价 | 预付费套餐包:<br>10,000次/年<br>100,000次/年<br>300,000次/年 |

### 2.3 技术对比

| 技术指标 | 科大讯飞 | Azure Speech | 腾讯云 |
|---------|---------|--------------|--------|
| **响应延迟** | < 200ms | < 300ms | < 250ms |
| **并发支持** | 按套餐并发数 | 100并发(标准层) | 按需分配 |
| **SDK支持** | Web/Android/iOS/Linux | Web/Android/iOS/C#/Python | Web/Android/iOS/Python/Node.js |
| **文档质量** | 中文文档完善 | 英文文档为主 | 中文文档完善 |
| **技术支持** | 国内支持 | 全球支持 | 国内支持 |

---

## 三、优缺点分析

### 3.1 科大讯飞

**优势:**
- ✅ 中文识别准确率行业领先
- ✅ 支持多种方言（四川话、粤语等）
- ✅ 国内服务稳定，延迟低
- ✅ 中文文档完善，接入简单
- ✅ 提供免费测试额度

**劣势:**
- ❌ 套餐价格相对较高
- ❌ 需要购买并发数
- ❌ 方言识别需要额外付费（20,000元/个/年）

### 3.2 Azure Speech

**优势:**
- ✅ 微软生态，稳定性强
- ✅ 多语言支持最好
- ✅ 实时翻译功能强大
- ✅ 按量计费，灵活度高
- ✅ 全球部署，跨国使用友好

**劣势:**
- ❌ 中文识别准确率略逊于讯飞
- ❌ 国内访问可能存在网络问题
- ❌ 文档主要为英文
- ❌ 免费额度较少（5小时/月）

### 3.3 腾讯云

**优势:**
- ✅ 价格适中，性价比高
- ✅ 国内服务稳定
- ✅ 中文文档完善
- ✅ 音频格式支持最广泛
- ✅ 免费额度5小时/月

**劣势:**
- ❌ 中文识别准确率略逊于讯飞
- ❌ 方言支持有限
- ❌ 阶梯计价方式相对复杂

---

## 四、推荐方案

### 🎯 推荐服务：**科大讯飞**

**推荐理由:**

1. **中文识别准确率最高** - 科大讯飞在中文语音识别领域处于行业领先地位，特别适合课堂笔记场景

2. **国内服务稳定** - 服务器部署在国内，网络延迟低，实时识别体验更好

3. **接入简单** - 提供完善的中文文档和SDK，开发效率高

4. **免费额度充足** - 个人用户每日5小时免费额度，适合测试和小规模使用

5. **性价比高** - 套餐一：￥99/40小时，适合个人用户；套餐二：￥1,780/1,000小时，适合专业用户

### 🔄 备选方案：**腾讯云**

当科大讯飞服务不可用时，可作为快速切换的备选方案。

---

## 五、集成方案

### 5.1 API 接口信息

**科大讯飞实时语音转写 API**

| 项目 | 信息 |
|------|------|
| **接口类型** | WebSocket |
| **服务地址** | `wss://rtasr.xfyun.cn/v1/ws` |
| **认证方式** | 签名验证（appId + apiKey + timestamp） |
| **音频格式** | PCM (16k, 16bit, mono) |
| **音频采样率** | 16000Hz |

### 5.2 请求流程

```typescript
// 1. 构建鉴权URL
const authUrl = generateAuthUrl(appId, apiKey, timestamp)

// 2. 建立WebSocket连接
const ws = new WebSocket(authUrl)

// 3. 发送音频数据
ws.send(audioData)

// 4. 接收识别结果
ws.onmessage = (event) => {
  const result = JSON.parse(event.data)
  // 处理识别结果
}
```

### 5.3 响应格式

```typescript
interface SpeechRecognitionResult {
  code: number           // 状态码
  message: string        // 状态信息
  sid: string           // 会话ID
  data: {
    result: {
      ws: {
        bg: number      // 开始时间
        cw: Array<{     // 识别词
          w: string     // 词语
          sc: number    // 置信度
        }>
        bg: number      // 结束时间
      }
    }
  }
}
```

---

## 六、成本估算

### 6.1 个人用户场景

假设每天使用2小时，每月使用60小时：

| 套餐选择 | 月费用 | 时效 |
|---------|-------|------|
| 科大讯飞套餐一(40小时) | ￥99 × 2 = ￥198 | 可用40小时 |
| 科大讯飞套餐二(1000小时) | ￥1,780 | 可用1000小时(约16个月) |

**推荐**: 科大讯飞套餐二，性价比最高

### 6.2 专业用户场景

假设每天使用8小时，每月使用240小时：

| 套餐选择 | 月费用 | 时效 |
|---------|-------|------|
| 科大讯飞套餐三(5000小时) | ￥6,900 | 可用5000小时(约20个月) |

**推荐**: 科大讯飞套餐三

---

## 七、风险与建议

### 7.1 潜在风险

| 风险项 | 影响 | 应对措施 |
|--------|------|----------|
| 服务中断 | 高 | 接入腾讯云作为备选 |
| 价格上涨 | 中 | 关注官方公告，及时调整套餐 |
| API变更 | 低 | 使用官方SDK，及时更新版本 |

### 7.2 实施建议

1. **先测试后付费**: 使用免费额度充分测试功能和性能
2. **预留备选方案**: 同时接入腾讯云作为备选
3. **成本监控**: 实时监控使用时长，避免超量扣费
4. **缓存优化**: 对识别结果进行本地缓存，减少重复调用

---

## 八、下一步行动

1. ✅ 注册科大讯飞开放平台账号
2. ✅ 申请实时语音转写服务
3. ✅ 获取 API Key 和 App ID
4. ⏳ 开发语音识别模块（任务 #9）
5. ⏳ 集成实时语音识别服务（任务 #10）

---

## 九、参考资料

- [科大讯飞实时语音转写文档](https://www.xfyun.cn/doc/asr/voicedictation/API.html)
- [科大讯飞语音听写流式版集成指南](https://www.xfyun.cn/service/voicedictation)
- [腾讯云实时语音识别文档](https://cloud.tencent.com/document/product/1118/53937)
- [Azure Speech Services](https://azure.microsoft.com/en-us/services/cognitive-services/speech-services/)

---

**报告完成时间**: 2026-01-25
